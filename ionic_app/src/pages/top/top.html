<!--
  Generated template for the TopPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>
<ion-navbar>
<img src="assets/img/logo.png" style="height: 25px;margin-left: 10px" />
<span style="float:right;margin-right:10px">
 <ion-icon name="refresh" (click)="load()"></ion-icon>
 <ion-icon (click)="settings()" name="settings" style="margin-left: 20px"></ion-icon>
</span>
</ion-navbar>
</ion-header>

<ion-content>
<ion-list>
<ion-searchbar [(ngModel)]="search" [formControl]="searchControl"  [showCancelButton]="shouldShowCancel" (ionInput)="onSearchInput()">
</ion-searchbar>
<ion-item>
<ion-label>{{'show' | translate}}</ion-label>
<ion-select [(ngModel)]="show" (ionChange)="load()">
<ion-option value="100">top 100</ion-option>
<ion-option value="200">{{'top_200' | translate}}</ion-option>
<ion-option value="300">{{'top_300' | translate}}</ion-option>
<ion-option value="400">{{'top_400' | translate}}</ion-option>
<ion-option value="0">{{'all' | translate}}</ion-option>
</ion-select>
</ion-item>
<ion-item>
<ion-label>{{'show_in_currency' | translate}}</ion-label>
<ion-select [(ngModel)]="select_currencies" (ionChange)="load()">
<ion-option *ngFor="let item of currency" value="{{item}}">{{item}}</ion-option>
</ion-select>
</ion-item>
</ion-list>

<ion-card *ngFor="let item of lists">
<ion-card-header>
<img src="https://files.coinmarketcap.com/static/img/coins/16x16/{{item.id}}.png" style="width: 16px;height: 16px;float:left" />&nbsp;{{item.name}} <span class="symbol">{{item.symbol}}</span>
</ion-card-header>

<ion-card-content  (click)="view(item)">
<div><span class="caption">{{'price' | translate}}</span>{{item.price+' '+select_currencies}}
</div>
<div>
  <span class="caption">{{'market_cap' | translate}}</span>{{item.market_cap+' '+select_currencies}}
</div>
<div><span class="caption">{{'24h_volume' | translate}}</span>{{item.volume+' '+select_currencies}}</div>
<div><span class="caption">{{'total_supply' | translate}}</span>{{item.total_supply}}</div>
<div><span class="caption">{{'available_supply' | translate}}</span>{{item.available_supply}}</div>

<div><span class="caption">{{'%1h' | translate}}</span>

  <span *ngIf="item.percent_change_1h > 0">
    <ion-badge color="secondary">
    <ion-icon name="arrow-round-up"></ion-icon>
    {{item.percent_change_1h}}%</ion-badge>
  </span>

  <span *ngIf="item.percent_change_1h < 0">
    <ion-badge color="danger">
    <ion-icon name="arrow-round-down"></ion-icon>
    {{item.percent_change_1h}}%</ion-badge>
  </span>
</div>


<div><span class="caption">{{'%24h' | translate}}</span>
  <span *ngIf="item.percent_change_24h > 0">
   <ion-badge color="secondary">
   <ion-icon name="arrow-round-up"></ion-icon>
   {{item.percent_change_24h}}%</ion-badge>
 </span>

 <span *ngIf="item.percent_change_24h < 0">

   <ion-badge color="danger">
   <ion-icon name="arrow-round-down"></ion-icon>
   {{item.percent_change_24h}}%</ion-badge>
 </span>
</div>


<div><span class="caption">{{'%7d' | translate}}</span>
 <span *ngIf="item.percent_change_7d > 0">
  <ion-badge color="secondary">
  <ion-icon name="arrow-round-up"></ion-icon>
  {{item.percent_change_7d}}%
  </ion-badge>
</span>

<span *ngIf="item.percent_change_7d < 0">
  <ion-badge color="danger">
  <ion-icon name="arrow-round-down"></ion-icon>
  {{item.percent_change_7d}}%
</ion-badge>
</span>
</div>


</ion-card-content>
<ion-row style="border-top:1px solid #e8e8e8" padding>
<ion-col col-6 style="text-align: center;">
<a (click)='view(item)' style="color: #212121"><ion-icon name="md-eye"></ion-icon></a></ion-col>
<ion-col col-6 style="text-align:center">
<a (click)='share(item)' style="color: #212121"><ion-icon name="md-share"></ion-icon></a>
</ion-col>

</ion-row>
</ion-card>

<ion-fab bottom right>
   <button ion-fab style="background: #E91E63" (click)="scrollToTop()"><ion-icon name="arrow-dropup"></ion-icon></button>
</ion-fab>
</ion-content>
